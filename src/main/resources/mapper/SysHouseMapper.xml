<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iloveleiyuxin.websitmanager.mapper.SysHouseMapper">
    <resultMap id="sysHouseResultMap" type="com.iloveleiyuxin.websitmanager.entity.SysHouse">
        <id column="id" property="id"/>
        <result column="building" property="building"/>
        <result column="unit" property="unit"/>
        <result column="name" property="name"/>
        <result column="state" property="state"/>
        <result column="area" property="area"/>
        <result column="serviceFeeBasic" property="servicefeebasic"/>
        <result column="layout" property="layout"/>
    </resultMap>

    <select id="mapSelect" resultMap="sysHouseResultMap" parameterType="Map">
        SELECT * FROM sys_house h
        <where>
            <if test="filterMap.id!=null and filterMap.id!=''">
                AND h.id=#{filterMap.id}
            </if>
            <if test="filterMap.building!=null and filterMap.building!=''">
                AND h.building = #{filterMap.building}
            </if>
            <if test="filterMap.unit!=null and filterMap.unit!=''">
                AND h.unit = #{filterMap.unit}
            </if>
            <if test="filterMap.state!=null and filterMap.state!=-1">
                AND h.state=#{filterMap.state}
            </if>
            <if test="filterMap.areamin!=null and filterMap.areamin!=0">
                AND h.area <![CDATA[ >= ]]> #{filterMap.areamin}
            </if>
            <if test="filterMap.areamax!=null and filterMap.areamax!=0">
                AND h.area <![CDATA[ <= ]]> #{filterMap.areamax}
            </if>
            <if test="filterMap.servicefeebasicmin!=null and filterMap.servicefeebasicmin!=0">
                AND h.servicefeebasic <![CDATA[ >= ]]> #{filterMap.servicefeebasicmin}
            </if>
            <if test="filterMap.areamax!=null and filterMap.areamax!=0">
                AND h.servicefeebasic <![CDATA[ <= ]]> #{filterMap.servicefeebasicmax}
            </if>
        </where>
    </select>

</mapper>
